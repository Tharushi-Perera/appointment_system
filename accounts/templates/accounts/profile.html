{% extends 'base.html' %}
{% block content %}
<div class="container mt-5 text-center">
  <div class="row justify-content-center">
    <div class="col-md-4">
      <img src="{{ profile.profile_picture.url }}" class="img-fluid rounded-circle shadow" style="width: 200px;" alt="Profile Pic">
      <h3 class="mt-3">{{ user.username }}</h3>
      <p>{{ user.email }}</p>
      <a href="{% url 'accounts:edit_profile' %}" class="btn btn-primary">Edit Profile</a>
    </div>

    <div class="col-md-6 text-start">
      <h4>Upcoming Appointments</h4>
      <ul>
        {% for a in upcoming_appointments %}
          <li>{{ a.date }} - {{ a.service.name }}</li>
        {% empty %}
          <li>No upcoming appointments</li>
        {% endfor %}
      </ul>

      <h4>Past Appointments</h4>
      <ul>
        {% for a in past_appointments %}
          <li>{{ a.date }} - {{ a.service.name }}</li>
        {% empty %}
          <li>No past appointments</li>
        {% endfor %}
      </ul>

      <h4>Most Used Services</h4>
      <ul>
        {% for service, count in freq_services.items %}
          <li>{{ service }} - {{ count }} times</li>
        {% empty %}
          <li>No service usage data</li>
        {% endfor %}
      </ul>

      <h4>Frequent Stylists</h4>
      <ul>
        {% for stylist, count in freq_stylists.items %}
          <li>{{ stylist }} - {{ count }} times</li>
        {% empty %}
          <li>No stylist usage data</li>
        {% endfor %}
      </ul>
    </div>
  </div>
</div>
{% endblock %}
